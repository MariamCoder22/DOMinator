<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOMinator - Master the Frontend</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .app-container {
            min-height: 100vh;
            position: relative;
        }

        .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(64, 224, 255, 0.6);
            border-radius: 50%;
            animation: float 8s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
            background: rgba(15, 15, 35, 0.8);
            border-bottom: 1px solid rgba(64, 224, 255, 0.2);
            padding: 1rem 2rem;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(45deg, #40e0ff, #ff4081);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(64, 224, 255, 0.5);
        }

        .timer-display {
            display: none;
            align-items: center;
            gap: 1rem;
            padding: 0.5rem 1.5rem;
            background: rgba(255, 64, 129, 0.1);
            border: 1px solid rgba(255, 64, 129, 0.3);
            border-radius: 50px;
            font-weight: 600;
        }

        .timer-display.active {
            display: flex;
        }

        .main-content {
            position: relative;
            z-index: 10;
            padding-top: 100px;
            min-height: 100vh;
        }

        .hero {
            text-align: center;
            padding: 4rem 2rem 6rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: clamp(3rem, 8vw, 8rem);
            font-weight: 900;
            background: linear-gradient(45deg, #40e0ff, #ff4081, #ffeb3b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 2rem;
            text-shadow: 0 0 50px rgba(64, 224, 255, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(64, 224, 255, 0.3)); }
            to { filter: drop-shadow(0 0 40px rgba(255, 64, 129, 0.3)); }
        }

        .hero p {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 3rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            padding: 0 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .category-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(20px);
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(64, 224, 255, 0.5), transparent);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-8px);
            border-color: rgba(64, 224, 255, 0.3);
            box-shadow: 0 20px 40px rgba(64, 224, 255, 0.1);
        }

        .category-card:hover::before {
            transform: scaleX(1);
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .category-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #40e0ff;
            margin-bottom: 0.5rem;
        }

        .category-time {
            background: rgba(255, 64, 129, 0.2);
            color: #ff4081;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .category-description {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .category-stats {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: #40e0ff;
            display: block;
        }

        .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .start-button {
            width: 100%;
            background: linear-gradient(45deg, #40e0ff, #ff4081);
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .start-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .start-button:hover::before {
            left: 100%;
        }

        .start-button:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(64, 224, 255, 0.3);
        }

        .question-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .question-modal.active {
            display: flex;
        }

        .question-content {
            background: rgba(15, 15, 35, 0.95);
            border: 1px solid rgba(64, 224, 255, 0.3);
            border-radius: 24px;
            padding: 3rem;
            max-width: 800px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question-counter {
            background: rgba(64, 224, 255, 0.1);
            color: #40e0ff;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
        }

        .close-button {
            background: rgba(255, 64, 129, 0.1);
            border: 1px solid rgba(255, 64, 129, 0.3);
            color: #ff4081;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-button:hover {
            background: rgba(255, 64, 129, 0.2);
            transform: scale(1.05);
        }

        .question-text {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 3rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .question-placeholder {
            text-align: center;
            padding: 4rem 2rem;
            border: 2px dashed rgba(64, 224, 255, 0.3);
            border-radius: 16px;
            background: rgba(64, 224, 255, 0.05);
        }

        .question-placeholder h3 {
            color: #40e0ff;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .question-placeholder p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.1rem;
        }

        .navigation-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .nav-button {
            flex: 1;
            background: rgba(64, 224, 255, 0.1);
            border: 1px solid rgba(64, 224, 255, 0.3);
            color: #40e0ff;
            padding: 1rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .nav-button:hover {
            background: rgba(64, 224, 255, 0.2);
            transform: translateY(-2px);
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .categories-grid {
                grid-template-columns: 1fr;
                padding: 0 1rem;
            }
            
            .category-card {
                padding: 1.5rem;
            }
            
            .hero {
                padding: 2rem 1rem 4rem;
            }
            
            .question-content {
                padding: 2rem;
                margin: 1rem;
            }
        }

        .timer-warning {
            animation: pulse 1s infinite;
        }
        .hidden {
            display: none;
        }
        .questions {
            display: none;
        }    

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Animated Background -->
        <div class="bg-particles" id="particles"></div>

        <!-- Header -->
        <header class="header">
            <nav class="nav">
                <div class="logo">DOMinator</div>
                <div class="timer-display" id="timerDisplay">
                    <span>‚è±Ô∏è</span>
                    <span id="timerText">00:00</span>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <section class="hero">
                <h1>DOMINATE THE FRONTEND</h1>
                <p>Master every aspect of modern frontend development with our comprehensive challenge platform</p>
            </section>

            <section class="categories-grid" id="categoriesGrid">
                <!-- Categories will be generated by JavaScript -->
            </section>
        </main>

        <!-- Question Modal -->
        <div class="question-modal" id="questionModal">
            <div class="question-content">
                <div class="question-header">
                    <div class="question-counter" id="questionCounter">Question 1 of ?</div>
                    <button class="close-button" id="closeButton">Close Challenge</button>
                </div>
                <div class="question-text" id="questionText">
                    <div class="question-placeholder">
                        <h3>üéØ Ready for Your Challenge?</h3>
                        <p>Questions for this category will appear here once you add them to the question bank. Each category has been carefully designed to test your skills progressively.</p>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button" id="prevButton">‚Üê Previous</button>
                    <button class="nav-button" id="nextButton">Next ‚Üí</button>
                </div>
            </div>
        </div>
    </div>
    

    <script>
        // Categories with time limits and descriptions
        const categories = [
            {
                title: "Core Skills Combat",
                time: 30,
                description: "Essential JavaScript, HTML, and CSS fundamentals that every frontend developer must master.",
                questions: [
                    "What is semantic HTML?",
  "Why is using semantic HTML important?",
  "What is the difference between a <div> and a <span>?",
  "What is the <main> element used for?",
  "How many <main> elements should a single page have?",
  "What is the <header> element used for?",
  "Can a <header> appear inside an <article> or <section>?",
  "What is the <footer> element used for?",
  "What is the <nav> element used for? What kind of links should it typically contain?",
  "What is the <article> element used for? Give an example.",
  "What is the <section> element used for? How is it different from <article>?",
  "What is the <aside> element used for?",
  "What is the <figure> element used for?",
  "What is the <figcaption> element used for and where must it be placed?",
  "What is the <time> element and its datetime attribute used for?",
  "What is the <mark> element used for?",
  "What is the <strong> element used for? How is it different from <b>?",
  "What is the <em> element used for? How is it different from <i>?",
  "What is the <code> element used for?",
  "What is the <pre> element used for?",
  "When would you use a <blockquote> vs. a regular <q>?",
  "What is the cite attribute used for in <blockquote>?",
  "How do you represent a navigation breadcrumb trail semantically?",
  "What is the purpose of the <address> element?",
  "What is the <data> element used for?",
  "How would you semantically mark up a definition or glossary list?",
  "What is the difference between an ordered list (<ol>) and an unordered list (<ul>)?",
  "How do you create a description list (<dl>) with terms (<dt>) and descriptions (<dd>)?",
  "What is the purpose of the <hr> element in modern HTML?",
  "What is the purpose of the <br> element? When should you avoid using it for layout?",
  "How does using semantic elements improve SEO?",
  "How does using semantic elements improve accessibility (a11y)?",
  "What ARIA role is implicitly assigned to a <nav> element?",
  "What ARIA role is implicitly assigned to a <main> element?",
  "What ARIA role is implicitly assigned to a <button> element?",
  "When should you not use a semantic element and instead use a <div> with an ARIA role?",
  "What is the HTML5 Outline Algorithm? (Note: It's largely unused by browsers now, but understand the concept)",
  "How would you structure a blog post page with a header, navigation, main content, sidebar, and footer using semantic tags?",
  "How would you structure a product listing page semantically?",
  "What is the most semantic way to mark up a clickable card that links to an article?",

  "What is the <!DOCTYPE html> declaration for?",
  "What is the root element of an HTML document?",
  "What is the purpose of the <html> element's lang attribute? Why is it important?",
  "What are the two main sub-sections of the <html> element?",
  "What is the purpose of the <head> element?",
  "What is the purpose of the <title> element?",
  "What is the purpose of the <meta charset=\"UTF-8\"> tag?",
  "What happens if you omit the charset meta tag?",
  "What is the purpose of the <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> tag?",
  "What does initial-scale=1.0 do?",
  "What is the purpose of the <meta name=\"description\" content=\"...\"> tag?",
  "How does the description meta tag affect SEO?",
  "What is the purpose of the <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> tag? Is it still necessary?",
  "What are <meta> name=\"keywords\" used for? Are they important for SEO today?",
  "What is the purpose of the <link rel=\"icon\" href=\"favicon.ico\"> tag?",
  "What is the purpose of the <link rel=\"stylesheet\" href=\"style.css\"> tag?",
  "What is the purpose of the <script> tag? Where is the best place to put it and why?",
  "What does the defer attribute do on a <script> tag?",
  "What does the async attribute do on a <script> tag?",
  "What is the <noscript> tag used for?",
  "What is the <base> tag used for? What are its potential pitfalls?",
  "How do you set a canonical URL for a page to avoid duplicate content issues?",
  "What are Open Graph meta tags (e.g., og:title, og:image)? What platform uses them?",
  "What are Twitter Card meta tags? How are they different from Open Graph?",
  "How would you prevent a search engine from indexing a page?",
  "How would you prevent a search engine from following links on a page?",
  "What is the robots.txt file and how is it different from a meta robots tag?",
  "What is the purpose of the <style> tag?",
  "What is the purpose of the <template> tag?",
  "What is the purpose of the <slot> element? (Part of Web Components)",
  "What is the manifest.json file and how do you link to it?",
  "What is the purpose of the <meta name=\"theme-color\" content=\"#ffffff\"> tag?",
  "How do you specify a CSS content security policy (CSP) using a meta tag?",
  "What is the referrer meta tag used for?",
  "How do you define a custom social media share image for a page?",
  "How do you define different favicon sizes for different devices?",
  "What is the apple-touch-icon link relation used for?",
  "How do you specify a web application manifest for a PWA?",
  "What is the crossorigin attribute used for on a <link> or <script> tag?",

  // ... continues with all your sections (Forms, Media, APIs, Accessibility, CSS, etc.)
                    
                ]
            },
            {
                title: "React Mastery Engine",
                time: 45,
                description: "Deep dive into React hooks, state management, performance optimization, and advanced patterns.",
                questions: [
                    // Add your React questions here like:
                    // "Explain the useCallback and useMemo hooks and when to use each.",
                    // "How would you implement a custom hook for data fetching?",
                    // "What are the differences between controlled and uncontrolled components?"
                ]
            },
            {
                title: "Systems Design for FE",
                time: 60,
                description: "Architecture decisions, scalability considerations, and system design for frontend applications.",
                questions: 0
            },
            {
                title: "Global Challenge Vault",
                time: 90,
                description: "Complex, multi-faceted challenges that test your ability to think at scale and solve real-world problems.",
                questions: 0
            },
            {
                title: "UI Rebuild Mode",
                time: 120,
                description: "Hands-on coding challenges where you rebuild complex UI components and interactions from scratch.",
                questions: 0
            },
            {
                title: "CSS Bruteforce Lab",
                time: 45,
                description: "Advanced CSS techniques, animations, layouts, and modern styling methodologies.",
                questions: 0
            },
            {
                title: "Debug the UI",
                time: 30,
                description: "Identify and fix common and complex bugs in frontend applications quickly and efficiently.",
                questions: 0
            },
            {
                title: "Meta/Mental Models",
                time: 40,
                description: "Conceptual frameworks and thinking patterns that guide effective frontend development decisions.",
                questions: 0
            },
            {
                title: "Real Company Questions",
                time: 50,
                description: "Actual interview questions from top tech companies like Google, Facebook, Netflix, and more.",
                questions: 0
            },
            {
                title: "Whiteboard Questions",
                time: 40,
                description: "Algorithm and problem-solving challenges commonly asked in technical interviews.",
                questions: 0
            },
            {
                title: "Front-end Puzzle Box",
                time: 50,
                description: "Creative and unconventional challenges that test your problem-solving creativity.",
                questions: 0
            },
            {
                title: "Web Assembly Tasks",
                time: 60,
                description: "Explore WebAssembly integration, performance optimization, and low-level web programming.",
                questions: 0
            },
            {
                title: "Modular Rendering and Adaptive Hydration",
                time: 60,
                description: "Advanced SSR techniques, selective hydration, and modern rendering strategies.",
                questions: 0
            },
            {
                title: "PWA and Offline Mode Challenges",
                time: 50,
                description: "Progressive Web App development, service workers, caching strategies, and offline functionality.",
                questions: 0
            },
            {
                title: "Advanced Responsive/Theming Tests",
                time: 60,
                description: "Complex responsive designs, dynamic theming, CSS custom properties, and design systems.",
                questions: 0
            },
            {
                title: "Advanced Analytics & Monitoring",
                time: 60,
                description: "Performance monitoring, error tracking, user analytics, and observability in frontend applications.",
                questions: 0
            },
            {
                title: "Design Systems & Component Libraries",
                time: 70,
                description: "Building scalable design systems, component APIs, and maintaining consistency across applications.",
                questions: 0
            },
            {
                title: "Real-time & Streaming Technologies",
                time: 60,
                description: "WebSocket implementation, real-time data synchronization, and streaming technologies.",
                questions: 0
            },
            {
                title: "Advanced Security & Privacy",
                time: 50,
                description: "Frontend security best practices, XSS prevention, CSP, and privacy-focused development.",
                questions: 0
            },
            {
                title: "Performance & Edge Computing",
                time: 60,
                description: "Edge computing strategies, CDN optimization, and performance at scale.",
                questions: 0
            },
            {
                title: "Micro-Frontend Architecture",
                time: 70,
                description: "Micro-frontend patterns, module federation, and distributed frontend architectures.",
                questions: 0
            },
            {
                title: "Deep Dive Voice & Gesture Interfaces",
                time: 60,
                description: "Voice interfaces, gesture recognition, accessibility, and alternative interaction methods.",
                questions: 0
            },
            {
                title: "Accessibility & ARIA Deep Dive",
                time: 50,
                description: "Advanced accessibility patterns, ARIA best practices, and inclusive design principles.",
                questions: 0
            }
        ];

        let currentCategoryIndex = 0;
        let currentQuestionIndex = 0;
        let timer = null;
        let timeRemaining = 0;

        // Initialize app
        function init() {
            createParticles();
            renderCategories();
            setupEventListeners();
        }

        // Create animated background particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (8 + Math.random() * 4) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Render category cards
        function renderCategories() {
            const grid = document.getElementById('categoriesGrid');
            
            categories.forEach((category, index) => {
                const card = document.createElement('div');
                card.className = 'category-card';
                card.innerHTML = `
                    <div class="category-header">
                        <div>
                            <div class="category-title">${category.title}</div>
                        </div>
                        <div class="category-time">${category.time} min</div>
                    </div>
                    <div class="category-description">${category.description}</div>
                    <div class="category-stats">
                        <div class="stat">
                            <span class="stat-value">${category.questions}</span>
                            <span class="stat-label">Questions</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">${category.time}</span>
                            <span class="stat-label">Minutes</span>
                        </div>
                    </div>
                    <button class="start-button" data-category="${index}">
                        Start Challenge
                    </button>
                `;
                grid.appendChild(card);
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Start button clicks
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('start-button')) {
                    const categoryIndex = parseInt(e.target.dataset.category);
                    startChallenge(categoryIndex);
                }
            });

            // Modal controls
            document.getElementById('closeButton').addEventListener('click', closeModal);
            document.getElementById('prevButton').addEventListener('click', previousQuestion);
            document.getElementById('nextButton').addEventListener('click', nextQuestion);

            // Close modal on escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeModal();
            });
        }

        // Start challenge
        function startChallenge(categoryIndex) {
            currentCategoryIndex = categoryIndex;
            currentQuestionIndex = 0;
            const category = categories[categoryIndex];
            
            // Start timer
            timeRemaining = category.time * 60; // Convert to seconds
            startTimer();
            
            // Show modal
            showModal();
            updateQuestionDisplay();
        }

        // Show modal
        function showModal() {
            document.getElementById('questionModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close modal
        function closeModal() {
            document.getElementById('questionModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            stopTimer();
        }

        // Start timer
        function startTimer() {
            const timerDisplay = document.getElementById('timerDisplay');
            const timerText = document.getElementById('timerText');
            
            timerDisplay.classList.add('active');
            
            timer = setInterval(() => {
                timeRemaining--;
                
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                timerText.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Warning when 5 minutes left
                if (timeRemaining <= 300) {
                    timerDisplay.classList.add('timer-warning');
                }
                
                if (timeRemaining <= 0) {
                    stopTimer();
                    alert('Time\'s up! Challenge completed.');
                    closeModal();
                }
            }, 1000);
        }

        // Stop timer
        function stopTimer() {
            if (timer) {
                clearInterval(timer);
                timer = null;
            }
            document.getElementById('timerDisplay').classList.remove('active', 'timer-warning');
        }

        // Update question display
        function updateQuestionDisplay() {
            const category = categories[currentCategoryIndex];
            const questionCounter = document.getElementById('questionCounter');
            const questionText = document.getElementById('questionText');
            
            if (category.questions && category.questions.length > 0) {
                questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${category.questions.length}`;
                questionText.innerHTML = `
                    <div class="question-text">
                        ${category.questions[currentQuestionIndex]}
                    </div>
                `;
            } else {
                questionCounter.textContent = `${category.title} - Ready`;
                questionText.innerHTML = `
                    <div class="question-placeholder">
                        <h3>üéØ ${category.title}</h3>
                        <p>${category.description}</p>
                        <br>
                        <p><strong>Time Limit:</strong> ${category.time} minutes</p>
                        <br>
                        <p>Add your questions to the question bank to get started with this challenge!</p>
                    </div>
                `;
            }
            
            updateNavigationButtons();
        }

        // Update navigation buttons
        function updateNavigationButtons() {
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const category = categories[currentCategoryIndex];
            
            if (category.questions && category.questions.length > 0) {
                prevButton.disabled = currentQuestionIndex === 0;
                nextButton.disabled = currentQuestionIndex === category.questions.length - 1;
            } else {
                prevButton.disabled = true;
                nextButton.disabled = true;
            }
        }

        // Navigation functions
        function previousQuestion() {
            const category = categories[currentCategoryIndex];
            if (currentQuestionIndex > 0 && category.questions && category.questions.length > 0) {
                currentQuestionIndex--;
                updateQuestionDisplay();
            }
        }

        function nextQuestion() {
            const category = categories[currentCategoryIndex];
            if (category.questions && currentQuestionIndex < category.questions.length - 1) {
                currentQuestionIndex++;
                updateQuestionDisplay();
            }
        }

        // Initialize the app
        init();
    </script>
    <script>
(function () {
  // small helpers
  function escapeHtml(s = '') {
    return String(s)
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#039;');
  }

  // wait until your app finished creating categories and functions
  const readyCheck = setInterval(() => {
    if (window.updateQuestionDisplay && window.categories && document.getElementById('categoriesGrid')) {
      clearInterval(readyCheck);
      applyPatch();
    }
  }, 50);

  function applyPatch() {
    // 1) Hide question counts on category cards (replace "Questions" numbers with "Hidden")
    document.querySelectorAll('#categoriesGrid .category-card').forEach(card => {
      const labels = card.querySelectorAll('.stat-label');
      labels.forEach(lbl => {
        if (lbl && lbl.textContent.trim().toLowerCase().startsWith('questions')) {
          const val = lbl.previousElementSibling;
          if (val) val.textContent = 'Hidden';
        }
      });
    });

    // 2) Inject styles for the answer box & reveal UI
    const css = `
      .dominator-hidden-note { padding:1rem; border-radius:12px; background:rgba(64,224,255,0.03); border:1px dashed rgba(64,224,255,0.12); color:rgba(255,255,255,0.85); }
      .dominator-reveal-btn { margin-left:.5rem; cursor:pointer; padding:.4rem .7rem; border-radius:10px; border:1px solid rgba(64,224,255,.25); background:rgba(64,224,255,.06); color:#40e0ff; font-weight:700; }
      .dominator-answer { margin-top:1rem; }
      .dominator-answer textarea { width:100%; min-height:120px; padding:.8rem; border-radius:10px; border:1px solid rgba(255,255,255,.08); background:rgba(64,224,255,.03); color:#fff; resize:vertical; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
      .dominator-answer .saved { font-size:.85rem; opacity:.8; margin-top:.4rem; }
    `;
    const s = document.createElement('style');
    s.textContent = css;
    document.head.appendChild(s);

    // 3) Wrap original updateQuestionDisplay so we can mask questions by default
    const origUpdate = window.updateQuestionDisplay.bind(window);

    window.updateQuestionDisplay = function patchedUpdate() {
      // call original so counters and other UI are updated
      origUpdate();

      // now replace question content with masked UI unless explicitly revealed
      const cat = window.categories?.[window.currentCategoryIndex];
      const qCount = Array.isArray(cat?.questions) ? cat.questions.length : 0;
      const questionTextEl = document.getElementById('questionText');
      const counterEl = document.getElementById('questionCounter');

      if (!questionTextEl) return;

      // If there are no questions, leave the placeholder as-is
      if (!qCount) {
        // ensure no leftover answer UI remains
        return;
      }

      // create id keys
      const catId = (cat && cat.title) ? cat.title.replace(/\s+/g, '_') : `cat_${window.currentCategoryIndex}`;
      const qId = `${catId}__q${window.currentQuestionIndex}`;
      const revealKey = `dominator_reveal__${qId}`; // session reveal per question

      // build masked UI
      const isRevealed = !!sessionStorage.getItem(revealKey);

      // get raw question text from your categories array (safe)
      const rawQuestion = cat.questions?.[window.currentQuestionIndex];
      const safeQuestion = escapeHtml(typeof rawQuestion === 'string' ? rawQuestion : (rawQuestion?.prompt || ''));

      // Build answer textarea HTML
      const answerStorageKey = `dominator_answer__${qId}`;
      const savedAnswer = localStorage.getItem(answerStorageKey) || '';

      // If not revealed, show locked placeholder + answer box
      if (!isRevealed) {
        questionTextEl.innerHTML = `
          <div class="dominator-hidden-note">
            <strong>üîí Question Hidden</strong>
            <div style="margin-top:.4rem; opacity:.85;">
              This question is intentionally hidden. Click <button id="dominatorRevealBtn" class="dominator-reveal-btn">Reveal</button> to view it temporarily.
            </div>
          </div>
          <div class="dominator-answer">
            <label style="display:block; font-weight:700; margin-bottom:.4rem">Your Answer (autosaved)</label>
            <textarea id="dominatorAnswerArea" placeholder="Type your answer here...">${escapeHtml(savedAnswer)}</textarea>
            <div class="saved muted saved-info" id="dominatorSavedInfo">Saved locally</div>
          </div>
        `;
      } else {
        // Show actual question with answer box
        questionTextEl.innerHTML = `
          <div class="q-prompt">${safeQuestion}</div>
          <div class="dominator-answer">
            <label style="display:block; font-weight:700; margin-bottom:.4rem">Your Answer (autosaved)</label>
            <textarea id="dominatorAnswerArea">${escapeHtml(savedAnswer)}</textarea>
            <div class="saved muted saved-info" id="dominatorSavedInfo">Saved locally</div>
            <div style="margin-top:.6rem; font-size:.9rem; opacity:.9;">
              <button id="dominatorHideBtn" class="dominator-reveal-btn">Hide</button>
            </div>
          </div>
        `;
      }

      // wire up reveal/hide button
      const revealBtn = document.getElementById('dominatorRevealBtn');
      if (revealBtn) {
        revealBtn.addEventListener('click', () => {
          // set session flag and re-render (revealed until page reload or until user hides)
          sessionStorage.setItem(revealKey, '1');
          // update existing counter text (so it still shows correct Question X of Y)
          if (counterEl && counterEl.textContent) counterEl.textContent = counterEl.textContent;
          // call patchedUpdate to re-render now revealed
          window.updateQuestionDisplay();
        });
      }

      const hideBtn = document.getElementById('dominatorHideBtn');
      if (hideBtn) {
        hideBtn.addEventListener('click', () => {
          sessionStorage.removeItem(revealKey);
          window.updateQuestionDisplay();
        });
      }

      // wire answer autosave
      const answerArea = document.getElementById('dominatorAnswerArea');
      const savedInfo = document.getElementById('dominatorSavedInfo');
      if (answerArea) {
        answerArea.addEventListener('input', () => {
          try {
            localStorage.setItem(answerStorageKey, answerArea.value);
            if (savedInfo) savedInfo.textContent = 'Saved locally';
          } catch (e) {
            if (savedInfo) savedInfo.textContent = 'Save failed';
          }
        });
      }

      // update progress display on modal header if you have one (optional)
      // (keeps orig counters intact)
    };

    // 4) Ensure when the modal opens the questions remain hidden by default
    // Your startChallenge() already calls showModal() and updateQuestionDisplay(); our patched version now masks it.
    // But to be safe, whenever modal shows, remove any session reveals for that category (optional).
    const closeButton = document.getElementById('closeButton');
    if (closeButton) {
      closeButton.addEventListener('click', () => {
        // optional: remove reveals for currently open question so next open is hidden
        const cat = window.categories?.[window.currentCategoryIndex];
        if (!cat || !cat.questions) return;
        const catId = (cat && cat.title) ? cat.title.replace(/\s+/g, '_') : `cat_${window.currentCategoryIndex}`;
        const qKey = `${catId}__q${window.currentQuestionIndex}`;
        sessionStorage.removeItem(`dominator_reveal__${qKey}`);
      });
    }

    // 5) If you want a global "hide all questions now" function (useful for testing)
    window.DOMINATOR_HIDE_ALL_QUESTIONS = function () {
      // clear reveal flags
      Object.keys(sessionStorage).forEach(k => {
        if (k.startsWith('dominator_reveal__')) sessionStorage.removeItem(k);
      });
      // call update to re-mask current view
      window.updateQuestionDisplay();
      // replace card counts again
      document.querySelectorAll('#categoriesGrid .category-card').forEach(card => {
        const labels = card.querySelectorAll('.stat-label');
        labels.forEach(lbl => {
          if (lbl && lbl.textContent.trim().toLowerCase().startsWith('questions')) {
            const val = lbl.previousElementSibling;
            if (val) val.textContent = 'Hidden';
          }
        });
      });
    };

    // Run once now to ensure things are masked
    try { window.updateQuestionDisplay(); } catch (e) {}
  }
})();
</script>
</body>
</html>